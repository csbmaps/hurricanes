<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hurricanes in the US</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="A story map showing hurricane tracks in the United States"/>
    <meta property="og:url" content="https://csbmaps.github.io/hurricanes/"/>
    <meta property="og:description" content="This is an example of a storymap."/>
    <meta property="og:image" content="../../img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">


    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="../../img/icon.ico" type="image/x-icon">

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=BioRhyme" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="css/storymap.2.5.css">
    <!--add required libraries-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
    <!--jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.5.js"></script>


</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="../assets/hurricane.gif">
                <div class="fullscreen text-center">

                    <h1 class="display-4 d-flex justify-content-center">Hurricanes in the US</h1>


                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">This story map
                        illustrates recent hurricane paths in
                        the US using a storytelling structure.
                    </small>
                </div>
            </section>
            <section data-scene="hurricanes">
                <h2>Hurricanes</h2>
                <p>A tropical cyclone is a rapidly rotating storm system characterized by a low-pressure center, a closed
                   low-level atmospheric circulation, strong winds, and a spiral arrangement of thunderstorms that produce
                    heavy rain. Depending on its location and strength, a tropical cyclone is referred to by different
                    names, including hurricane, typhoon, tropical storm, cyclonic storm, tropical depression, and simply
                    cyclone. <b>A hurricane is a tropical cyclone that occurs in the Atlantic Ocean and northeastern
                    Pacific Ocean</b>, and a typhoon occurs in the northwestern Pacific Ocean; while in the south Pacific
                    "tropical cyclones" or "severe cyclonic storms".</p>
                <p>To be classified as a hurricane, a tropical cyclone must have one-minute maximum sustained winds of at
                  least 74 mph (33 m/s; 64 kn; 119 km/h) (Category 1). The highest classification in the scale, Category
                  5, consists of storms with sustained winds over 156 mph (70 m/s; 136 kn; 251 km/h). The classifications
                  can provide some indication of the potential damage and flooding a hurricane will cause upon landfall. </p>
                <p>Officially, the Saffir–Simpson hurricane wind scale is based on the highest average wind over a one-
                  minute time span and used only to describe hurricanes that form in the Atlantic Ocean and northern
                  Pacific Ocean east of the International Date Line. Other areas use different scales to label these
                  storms, which are called cyclones or typhoons, depending on the area. These areas (except the JTWC)
                  use three-minute or ten-minute averaged winds to determine the maximum sustained winds—which is an
                  important difference and makes direct comparison with storms scaled with the Saffir–Simpson method
                  difficult.</p>
                <img src="img/saffir.jpg" class="img-responsive img-thumbnail" alt="responsive image"
                         alt-text="Saffir-Simpson Hurricane Wind Scale">

            </section>

            <section data-scene="sandy1">
                <h2>Hurricane Sandy</h2>
                <p>Hurricane Sandy (unofficially referred to as Superstorm Sandy) was the deadliest and most destructive
                  hurricane of the 2012 Atlantic hurricane season. Inflicting nearly $70 billion (2012 USD) in damage,
                  it was the second-costliest hurricane on record in the United States until surpassed by Hurricanes
                  Harvey and Maria in 2017. The eighteenth named storm, tenth hurricane, and second major hurricane of
                  the year, Sandy was a Category 3 storm at its peak intensity when it made landfall in Cuba. While it
                  was a Category 2 hurricane off the coast of the Northeastern United States, the storm became the
                  largest Atlantic hurricane on record (as measured by diameter, with tropical-storm-force winds
                  spanning 900 miles (1,400 km)). At least 233 people were killed along the path of the storm in eight
                  countries.</p>
                <p>Sandy developed from a tropical wave in the western Caribbean Sea on October 22, quickly strengthened,
                  and was upgraded to Tropical Storm Sandy six hours later. Sandy moved slowly northward toward the
                  Greater Antilles and gradually intensified. On October 24, Sandy became a hurricane, made landfall
                  near Kingston, Jamaica, re-emerged a few hours later into the Caribbean Sea and strengthened into a 4
                  Category 2 hurricane. On October 25, Sandy hit Cuba as a Category 3 hurricane, then weakened to a 4
                  Category 1 hurricane. Early on October 26, Sandy moved through the Bahamas. On October 27, Sandy
                  briefly weakened to a tropical storm and then restrengthened to a Category 1 hurricane. Early on
                  October 29, Sandy curved west-northwest (the "left turn" or "left hook") and then moved ashore near
                  Brigantine, New Jersey, just to the northeast of Atlantic City, as a post-tropical cyclone with
                  hurricane-force winds.</p>
            </section>

            <section data-scene="sandy2">
                <h2>Damage from Hurricane Sandy</h2>
                <p>In Jamaica, winds left 70% of residents without electricity, blew roofs off buildings, killed one
                  person, and caused about $100 million (2012 USD) in damage. Sandy's outer bands brought flooding to
                  Haiti, killing at least 54, causing food shortages, and leaving about 200,000 homeless; the hurricane
                  also caused two deaths in the Dominican Republic. In Puerto Rico, one man was swept away by a swollen
                  river. In Cuba, there was extensive coastal flooding and wind damage inland, destroying some 15,000
                  homes, killing 11, and causing $2 billion (2012 USD) in damage. Sandy caused two deaths and an
                  estimated $700 million (2012 USD) in damage in The Bahamas.</p>
                <p>In the United States, Hurricane Sandy affected 24 states, including the entire eastern seaboard from
                  Florida to Maine and west across the Appalachian Mountains to Michigan and Wisconsin, with particularly
                  severe damage in New Jersey and New York. Its storm surge hit New York City on October 29, flooding
                  streets, tunnels and subway lines and cutting power in and around the city. Damage in the United States
                  amounted to $65 billion (2012 USD). In Canada, two were killed in Ontario, and the storm caused an
                  estimated $100 million (2012 CAD) in damage throughout Ontario and Quebec.</p>
            </section>
            <section data-scene="katrina1">
                <h2>Hurricane Katrina</h2>
                <p>Hurricane Katrina was an extremely destructive and deadly Category 5 hurricane that made landfall on
                  Florida and Louisiana, particularly the city of New Orleans and the surrounding areas, in August 2005,
                  causing catastrophic damage from central Florida to eastern Texas. Subsequent flooding, caused largely
                  as a result of fatal engineering flaws in the flood protection system known as levees around the city
                  of New Orleans, precipitated most of the loss of lives. The storm was the third major hurricane of
                  the record-breaking 2005 Atlantic hurricane season, as well as the fourth-most intense Atlantic
                  hurricane on record to make landfall in the United States, behind only the 1935 Labor Day hurricane,
                  Hurricane Camille in 1969, and Hurricane Michael in 2018.</p>
                <p>The storm originated over the Bahamas on August 23, 2005, from the merger of a tropical wave and the
                  remnants of Tropical Depression Ten. Early on the following day, the tropical depression then
                  intensified into a tropical storm as it headed generally westward toward Florida, strengthening into a
                  hurricane only two hours before making landfall at Hallandale Beach and Aventura on August 25. After
                  very briefly weakening again to a tropical storm, Katrina emerged into the Gulf of Mexico on August 26
                  and began to rapidly intensify. The storm strengthened into a Category 5 hurricane over the warm waters
                  of the Gulf, but weakened before making its second landfall as a Category 3 hurricane on August 29,
                  over southeast Louisiana and Mississippi. As Katrina made landfall, its front right quadrant, which
                  held the strongest winds, slammed into Gulfport, Mississippi, devastating it.</p>
            </section>

            <section data-scene="katrina2">
                <h2>Damage from Hurricane Katrina</h2>
                <p>Overall, at least 1,836 people died in the hurricane and subsequent floods, making Katrina the
                  deadliest United States hurricane since the 1928 Okeechobee hurricane. Severe property damage
                  occurred in numerous coastal areas, such as Mississippi beachfront towns where boats and casino
                  barges rammed buildings, pushing cars and houses inland; water reached 6–12 miles (10–19 km) from
                  the beach. Total property damage was estimated at $125 billion (2005 USD), roughly four times
                  the damage wrought by Hurricane Andrew in 1992, tying Katrina with Hurricane Harvey of 2017 as the
                  costliest Atlantic tropical cyclone on record.</p>
                <p>Over fifty breaches in surge protection levees surrounding the city of New Orleans, Louisiana were
                  the cause of the majority of the death and destruction during Katrina. Eventually 80% of the city,
                  as well as large tracts of neighboring parishes, became flooded, and the floodwaters lingered for
                  weeks. Most of the transportation and communication networks servicing New Orleans were damaged
                  or disabled by the flooding, and tens of thousands of people who had not evacuated the city prior
                  to landfall became stranded with little access to food, shelter or basic necessities. The scale
                  of the disaster in New Orleans provoked massive national and international response efforts; federal,
                  local and private rescue operations evacuated displaced persons out of the city over the following
                  weeks. Multiple investigations in the aftermath of the storm concluded that the U.S. Army Corps of
                  Engineers, which had designed and built the region's levees decades earlier, was responsible for the
                  failure of the flood-control systems, though federal courts later ruled that the Corps could not
                   be held financially liable because of sovereign immunity in the Flood Control Act of 1928.</p>
            </section>

            <section data-scene="end">
                <div class="fullscreen text-center" style="background-color:rgba(100,100,100,0.5) ">
                    <h1 class="display-4 d-flex justify-content-center">Thanks for watching!</h1>
                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Click the info
                      button on te right for information on my sources and this project.
                    </small>

                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">Use the facebook
                      button to share and the github button to see more of my work!</small>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=https://csbmaps.github.io/hurricanes/"
               target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fab fa-github btn" href="https://github.com/csbmaps/hurricanes" style="bottom:155px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fas fa-info-circle btn" style="bottom:120px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of major major hurricanes in the United States. The story map library is derived from the
                        storymap plugin for leaflet at <a href=http://atlefren.github.io/storymap/>http://atlefren.github.io/storymap/</a>, and its functionality
                        relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.5 | MIT License </p>
                    <p><b>Author: Cameron Bennett</b> | Student, Civil Engineering and GIS | Oregon State University
                    </p>
                    <p>The content about hurricanes was collected from Wikipedia.</p>
                    <p>The <a href="https://giphy.com/gifs/nasa-space-storm-3ohhwENeReDzkW8Z7W">background gif</a> on the front page
                        was taken from NASA's giphy account. </p>
                    <p>The favicon image was acquired from <a href="https://thenounproject.com/term/hurricane/381298/">this link.</a></p>
                    <p>This story map uses geospatial data from mapbox, Google Earth Engine, ESRI Map, Open Street Maps
                        and Oregon Explorer.</p>
                    <p>Hurricane track data taken from NOAA open data site. Data used is IBTrACS-All Data, located
                       <a href= https://www.ncdc.noaa.gov/ibtracs/index.php?name=ibtracs-data>here.</a>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">


    // Create Legend Contents in html format
    var katrina_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Hurricane Katrina (2005) path</b></p>';
    var sandy_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Hurricane Sandy (2012) path</b></p>';
    var forest_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Forest</b></p>';
    var hurricanes_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Paths of storms with hurricane-speed winds, 2000-2017</b></p>';

    // For each layer, the first variable is the layer, the second is the legend. The layer variable can be any kinds of layers that leaflet.js supports.
    // var layers = {
    //      layer1: {layer: layer1, legend: legend1},
    //      layer2: {layer: layer2, legend: legend2}
    //      ...
    // }

    var layers = {
        ESRI: {layer: L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}')},
        katrina: {
            layer: L.geoJson.ajax('assets/katrina.geojson', {
                color: 'orange',
                weight: 2,
            }), legend: katrina_legend
        },
        hurricanes: {
            layer: L.geoJson.ajax('assets/century.geojson', {
                color: 'orange',
                weight: 2,
            }), legend: hurricanes_legend
        },
        sandy: {
            layer: L.geoJson.ajax('assets/sandy.geojson', {
                color: 'orange',
                weight: 2,
            }), legend: sandy_legend
        },
        GEE: {
            layer: L.tileLayer('http://earthengine.google.org/static/hansen_2013/tree_alpha/{z}/{x}/{y}.png'),
            legend: forest_legend
        },
        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
                id: 'mapbox.satellite'
            })
        },
        cartodb_light: {layer: L.tileLayer('http://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png')}
    };

    var scenes = {
        overview: {lat: 44.0000000, lng: -135.5000000, zoom: 7, name: 'Cover Page', layers: []},
        hurricanes: {lat: 33, lng: -93, zoom: 4, name: 'Hurricanes', layers: [layers.hurricanes, layers.ESRI]},
        sandy1: {lat: 30, lng: -79, zoom: 4, name: 'sandy1', layers: [layers.ESRI, layers.sandy]},
        sandy2: {lat: 39.75, lng: -75.5, zoom: 8, name: 'sandy2', layers: [layers.sandy]},
        katrina1: {lat: 30, lng: -90, zoom: 5, name: 'katrina1', layers: [layers.katrina, layers.satellite]},
        katrina2: {lat: 30, lng: -90, zoom: 9, name: 'katrina2', layers: [layers.katrina]},
        end: {lat: 33, lng: 0, zoom: 3, name: 'The End', layers: [layers.satellite, layers.hurricanes]}
    };

    $('#storymap').storymap({
        scenes: scenes,
        baselayer: layers.cartodb_light,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: true,
        scalebar: false,
        flyo: true,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {
                zoomControl: false, scrollWheelZoom: false, fadeAnimation: true,
                zoomAnimation: true
            }).setView([44, -120], 7);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'blue',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>
